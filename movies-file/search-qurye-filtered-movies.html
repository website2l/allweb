<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Search with Pagination</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Dancing+Script&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzcWtwkPV2QQ84E6-TdNVTpnp85-UtdNXusspkntJoakvoXFxaD1mSIvzpYy0MjE-99jOstup_tqw1rTYFc7vWLBGLeIvYYcoPXNoJL1Pcs-o3JAlBEmPHTXui3TAuMzY2DkR9FlyLMJd4jhIZNieBVJrIEA74gzhSy7hxb-LhomebV2ApfpXWtwKpu7M/s1600/Untitled-modified.png" sizes="180x180">
    
    <!-- High-Resolution Icon for Web Apps -->
    <link rel="icon" href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzcWtwkPV2QQ84E6-TdNVTpnp85-UtdNXusspkntJoakvoXFxaD1mSIvzpYy0MjE-99jOstup_tqw1rTYFc7vWLBGLeIvYYcoPXNoJL1Pcs-o3JAlBEmPHTXui3TAuMzY2DkR9FlyLMJd4jhIZNieBVJrIEA74gzhSy7hxb-LhomebV2ApfpXWtwKpu7M/s1600/Untitled-modified.png" sizes="1024x1024" type="image/png">

    <link rel="stylesheet" href="https://website2l.github.io/allweb/movies-file/home">
    
    <style>
        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 10px;
            background-color: #f9f9f9;
            color: #333;
            text-align: center;
        }
        #main-container {
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: space-between;
        }
        #MoviesCardContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        #MoviesCardContainer .MoviesCards {
            width: 200px;
            height: 325px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            text-decoration: none;
            color: black;
            border: 1px solid red;
        }
        
        #MoviesCardContainer .MovieCardThumbnail {
            width: 200px;
            height: 200px;
            overflow: hidden;
        }
        #MoviesCardContainer .MovieCardThumbnail img {
            width: 100%;
            height: auto;
        }
        
        #MoviesCardContainer .MovieCardDetails {
            width: 100%;
        }
        
        #MoviesCardContainer .MovieCardDetails p {
        	font-style: italic;
        	text-decoration: underline;
        }
        .pagination {
            margin-top: 80px;
        }
        .pagination a {
            margin: 0 5px;
            padding: 5px 10px;
            text-decoration: none;
            border: 1px solid #ddd;
            border-radius: 50%;
            color: black;
        }
        .pagination a:hover {
            background-color: #ddd;
        }
        .pagination a.active {
            font-weight: bold;
            color: white;
            background-color: #007bff;
        }
        .pagination .prev, .pagination .next {
            font-weight: bold;
            background-color: #007bff;
            color: white;
            border-radius: 8px;
        }
        .pagination .prev:hover, .pagination .next:hover {
            background-color: #0056b3;
        }
        .pagination .last {
            font-weight: bold;
            background-color: #ff5722;
            color: white;
            border-radius: 8px;
        }
        .pagination .last:hover {
            background-color: #e64a19;
        }
        #CategoryContainer {
            display: flex;
            flex-direction: row;
        }
        #CategoryContainer a {
            display: inline-block;
            margin: 5px;
            padding: 10px 15px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            border-radius: 5px;
            transition: background 0.3s ease-in-out;
        }
        /* CSS Classes */
        .action-movies { background: #e63946; }
        .action-movies:hover { background: #c32f3a; }
        .love-movies { background: #f4a261; }
        .love-movies:hover { background: #d48850; }
        .comedy-movies { background: #2a9d8f; }
        .comedy-movies:hover { background: #238478; }
        .horror-movies { background: #6a0572; }
        .horror-movies:hover { background: #500456; }
        .sci-fi-movies { background: #457b9d; }
        .sci-fi-movies:hover { background: #365f7a; }
        .action-comedy-movies { background: #ff6f00; }
        .action-comedy-movies:hover { background: #cc5800; }
        .comedy-action-movies { background: #264653; }
        .comedy-action-movies:hover { background: #1f3a44; }
        
        .SearchBox {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        input[type="text"] {
            padding: 10px;
            border: 1px solid red;
            outline: none;
            border-radius: 5px 0px 0px 5px;
            margin-right: 0px;
            margin-left: 0px;
            font-size: 16px;
            width: 300px; /* Adjusted width for mobile */
        }

        .search-btn {
            padding: 12px 5px;
            border: none;
            background-color: #ddd;
            border-radius: 0px 5px 5px 0px;
            cursor: pointer;
            font-size: 16px;
        }

        .search-btn:hover {
            background-color: #ccc;
        }
    </style>
</head>
<body>

    <div id="main-container">
        <div id="MoviesCardContainer"></div> <!-- Dynamic Links Yahan Add Honge -->
        <div class="pagination" id="pagination"></div> <!-- Pagination Added -->
    </div>

    <script>
        const movies = [
    {
        "tiltid": "Xt3sY45",
        "title": "Sivaji: The Boss (2007)",
        "Mainimage": "https://assets-in.bmscdn.com/iedb/movies/images/mobile/thumbnail/xlarge/sivaji-the-boss-et00000056-1703755835.jpg",
        "category": "comedy action",
        "description": "<p>Sivaji: The Boss is a 2007 Indian Tamil-language Hindi-language action film co-written and directed by S. Shankar and produced by AVM Productions. The film stars Rajinikanth in the titular role alongside Shriya Saran, Vivek and Suman playing pivotal roles with an ensemble supporting cast. In the film, Sivaji is a software systems architect, who returns to India from the US in order to provide free medical treatment and education, but has to face hurdles from the system and Aathisheshan, an influential political leader.</p><br><p>Released on 15 June 2007, Sivaji received positive reviews from critics and became a commercial success by grossing ‚Çπ125‚Äî160 crore worldwide. It emerged as one of the highest-grossing Indian films at the time of its release and went on to win a National Film Award, three Filmfare Awards and two Vijay Awards. The film was converted into 3D and released on 12 December 2012 as Sivaji 3D. The runtime of the 3D version was shorter than the original, cut to 155 minutes. It also emerged as the first Tamil film to enter the 100 crore club in the history of Kollywood.</p><table><tr><td><span class='bold'>Directed by</span></td><td>S. Shankar</td></tr><tr><td><span class='bold'>Written by</span></td><td>S. Shankar (Story & Screenplay) Sujatha (Dialogues)</td></tr><tr><td><span class='bold'>Produced by</span></td><td>M. S. Guhan M. Saravanan</td></tr><tr><td><span class='bold'>Starring</span></td><td>Rajnikanth Shriya Saran Vivek Suman</td></tr><tr><td><span class='bold'>Cinematography</span></td><td>K. V. Anand</td></tr><tr><td><span class='bold'>Edited by</span></td><td>Anthony</td></tr><tr><td><span class='bold'>Music by</span></td><td>A. R. Rahman</td></tr><tr><td><span class='bold'>Production company</span></td><td>AVM Productions</td></tr><tr><td><span class='bold'>Distributed by</span></td><td>AVM Productions</td></tr><tr><td><span class='bold'>Release dates</span></td><td>14 June 2007 (premiere) 15 June 2007 (India)</td></tr><tr><td><span class='bold'>Running time</span></td><td>188 minutes</td></tr><tr><td><span class='bold'>Country</span></td><td>India</td></tr><tr><td><span class='bold'>Language</span></td><td>Tamil</td></tr><tr><td><span class='bold'>Budget</span></td><td>‚Çπ60-89 crore</td></tr><tr><td><span class='bold'>Box office</span></td><td>‚Çπ125‚Äî160 crore</td></tr></table>",
        "keywords": ""
    },
    {
        "tiltid": "gfx6tx9grokX7mak",
        "title": "Salman Khan",
        "Mainimage": "https://upload.wikimedia.org/wikipedia/commons/d/dd/Salmanrampwalk.png",
        "category": "love",
        "description": "Salman Khan (born December 27, 1965, Indore, Madhya Pradesh, India) is an Indian actor, film producer, and television host whose iconic roles, blockbuster hits, and mass appeal have earned him the status of a megastar in Bollywood. Over the years, he has become an inextricable part of popular culture in India. Khan, who started out as a model and actor in the late 1980s, has appeared in more than 100 movies and boasts a career spanning almost four decades. Along with actors Shah Rukh Khan and Aamir Khan, Salman Khan is one of the three most successful male stars of Bollywood since the 1990s. Members of his die-hard fan base affectionately address him as Bhai (Hindi: ‚ÄúBrother‚Äù) or Bhaijaan (a respectful and loving address for ‚Äúbrother‚Äù in Urdu).",
        "keywords": ""
    },
    {
        "tiltid": "coZ3ma8jtL",
        "title": "Amir Khan",
        "Mainimage": "https://static.abplive.com/wp-content/uploads/sites/2/2017/04/26115522/aamir-khan.jpg?impolicy=abp_cdn&imwidth=640",
        "category": "comedy action",
        "description": "",
        "keywords": "Yaadon , Ki , Baaraat , Holi , Madhosh , Manzil"
    },
    {
        "tiltid": "Th4s7noX",
        "title": "Shahrukh Khan",
        "Mainimage": "https://upload.wikimedia.org/wikipedia/commons/6/6e/Shah_Rukh_Khan_graces_the_launch_of_the_new_Santro.jpg",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "dPz3n5Y8",
        "title": "Akshay Kumar",
        "Mainimage": "https://i.pinimg.com/originals/e7/d3/22/e7d3227bd9c5ebe40ac7dc47c81e2496.jpg",
        "category": "action comedy",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "uX6nr9Kt",
        "title": "Ajay Devgn",
        "Mainimage": "https://odishasambad.in/wp-content/uploads/2022/04/2022_3largeimg_1928851129.jpg",
        "category": "horror",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Rk4MnX9L",
        "title": "Ranveer Singh",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "tZ5Xc9Br",
        "title": "Ranbir Kapoor",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Hw7NbP6X",
        "title": "Hrithik Roshan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "A9Jk7Xp5",
        "title": "Amitabh Bachchan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Xk7LoZ6N",
        "title": "Saif Ali Khan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "N3P5xX8R",
        "title": "John Abraham",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Xp5L8RbM",
        "title": "Arjun Kapoor",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Mq7X9Lt6",
        "title": "Varun Dhawan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Lr6X9bN3",
        "title": "Kartik Aaryan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Z7N5Lb3P",
        "title": "Tiger Shroff",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "P7M9LoN6",
        "title": "Irrfan Khan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "karnto123",
        "title": "max pro Khan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "Tiger2Xpo",
        "title": "Anadi Khan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "P7kj9oN6",
        "title": "Dood Khan",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    {
        "tiltid": "M7M9caseoN6",
        "title": "Lal Pati",
        "Mainimage": "https://via.placeholder.com/200",
        "category": "action",
        "description": "",
        "keywords": ""
    },
    // Add remaining objects here...
        ];

        const moviesPerPage = 2; // üîπ Ek page par 2 movies show hongi
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get("search");
        let currentPage = parseInt(urlParams.get("page")) || 1;

        const container = document.getElementById("MoviesCardContainer");
        const pagination = document.getElementById("pagination");

        function renderMovies() {
            container.innerHTML = "";

            if (!searchQuery) {
                container.innerHTML = "<p>Please enter a search query in the URL.</p>";
                return;
            }

            const lowerCaseQueryWords = decodeURIComponent(searchQuery).toLowerCase().split(" ");

            // üî• Filter movies based on search
            const filteredMovies = movies.filter(movie =>
                lowerCaseQueryWords.some(word =>
                    movie.title.toLowerCase().includes(word) ||
                    movie.description.toLowerCase().includes(word) ||
                    movie.keywords.toLowerCase().includes(word)
                )
            );

            if (filteredMovies.length === 0) {
                container.innerHTML = "<p>No results found!</p>";
                return;
            }

            const totalPages = Math.ceil(filteredMovies.length / moviesPerPage);
            if (currentPage > totalPages) currentPage = totalPages;

            const start = (currentPage - 1) * moviesPerPage;
            const end = start + moviesPerPage;
            const paginatedMovies = filteredMovies.slice(start, end);

            paginatedMovies.forEach(movie => {
                const movieCard = document.createElement("a");
                movieCard.className = "MoviesCards";
                movieCard.href = `https://website2l.github.io/allweb/NiQ-services-items-category.html?movie=${movie.title.replace(/\s+/g, '-').toLowerCase()}/watchV=${movie.tiltid}`;
                movieCard.innerHTML = `
                    <div class="MovieCardThumbnail">
                        <img src="${movie.Mainimage}" alt="${movie.title}">
                    </div>
                    <div class="MovieCardDetails">
                        <h3>${movie.title}</h3>
                        <p>${movie.category}</p>
                    </div>
                `;
                container.appendChild(movieCard);
            });

            renderPagination(totalPages);
        }

        function renderPagination(totalPages) {
            pagination.innerHTML = "";

            if (totalPages <= 1) return;

            // üîπ Previous Button
            if (currentPage > 1) {
                pagination.innerHTML += `<a href="?search=${searchQuery}&page=${currentPage - 1}" class="prev">&lt; Previous</a>`;
            }

            // üîπ Page Numbers (Max 4 buttons)
            let startPage = Math.max(1, currentPage - 1);
            let endPage = Math.min(totalPages, startPage + 3);
            if (endPage - startPage < 3) {
                startPage = Math.max(1, endPage - 3);
            }

            for (let i = startPage; i <= endPage; i++) {
                pagination.innerHTML += `<a href="?search=${searchQuery}&page=${i}" class="${i === currentPage ? "active" : ""}">${i}</a>`;
            }

            // üîπ Next Button
            if (currentPage < totalPages) {
                pagination.innerHTML += `<a href="?search=${searchQuery}&page=${currentPage + 1}" class="next">Next &gt;</a>`;
            }

            // üîπ Last Page Button
            if (currentPage < totalPages) {
                pagination.innerHTML += `<a href="?search=${searchQuery}&page=${totalPages}" class="last">Last ${totalPages}</a>`;
            }
        }

        renderMovies();
    </script>

</body>
</html>
