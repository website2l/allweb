<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
  <!-- Bootstrap theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <!-- Add icon library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <title>Firebase Facebook Login</title>
</head>
<body>
<br>
<div class="container">  
  <div class="row">
    <div class="col-sm-4">
      <button type="button" id="facebook-login" name="facebook-login" class="btn btn-primary btn-lg btn-block">
        <i class="fa fa-facebook"></i> Login with Facebook
      </button>
    </div>  
  </div>    
</div>
<br>
<center>Developed by <a href="https://shinerweb.com/">Shinerweb</a></center>

<!-- Firebase Facebook Login Script -->
<script type="module">
  // Firebase SDKs import
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-analytics.js";
  import { getAuth, FacebookAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-auth.js";

  // ✅ Aapka Firebase Configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBAkyG8_rmdgno1gEnRT8Ixf1eyYS18a0E",
    authDomain: "example-sign-up.firebaseapp.com",
    projectId: "example-sign-up",
    storageBucket: "example-sign-up.firebasestorage.app",
    messagingSenderId: "768182895290",
    appId: "1:768182895290:web:2486660d028269fdc33883",
    measurementId: "G-W9V1GVGNQH"
  };

  // Firebase Initialization
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth();

  // Facebook Provider
  const provider = new FacebookAuthProvider();

  // 🔐 Facebook Login Function
  document.getElementById("facebook-login").addEventListener("click", function() {
    signInWithPopup(auth, provider)
      .then((result) => {
        const user = result.user;
        const credential = FacebookAuthProvider.credentialFromResult(result);
        const accessToken = credential.accessToken;
        
        alert("Welcome " + user.displayName);
        console.log("User Info:", user);
      })
      .catch((error) => {
        console.error("Error:", error.message);
        alert("Login Failed: " + error.message);
      });
  });
</script>
</body>
</html>
